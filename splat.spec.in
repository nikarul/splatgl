%define name splat
%define version 0.1.0
%define release 1

Summary: Splat 2D Rendering Library
Name: %{name}
Version: %{version}
Release: %{release}
Source0: %{name}-%{version}.tar.gz
License: LGPL
Group: System Environment/Libraries
BuildRoot: /var/tmp/%{name}-buildroot
Prefix: %{_prefix}
Packager: Michael Dale Long <mlong@digitalbytes.net>
#BuildRequires: SDL2-devel

%description
This is a library for rendering 2D scenes using SDL and OpenGL.

%package devel
Summary: Libraries, includes and more to develop Splat-based applications.
Group: Development/Libraries
Requires: %{name}
Requires: splat-devel

%description devel
This is a library for rendering 2D scenes using SDL and OpenGL.

%prep
rm -rf ${RPM_BUILD_ROOT}

%setup 

%build
CFLAGS="$RPM_OPT_FLAGS" ./configure --prefix=%{prefix}
make

%install
rm -rf $RPM_BUILD_ROOT
make install prefix=$RPM_BUILD_ROOT/%{prefix}

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root)
%doc README CHANGES COPYING
%{prefix}/lib/lib*.so.*

%files devel
%defattr(-,root,root)
%{prefix}/lib/lib*.a
%{prefix}/lib/lib*.la
%{prefix}/lib/lib*.so
%{prefix}/include/*/
%{prefix}/lib/pkgconfig/*.pc

%changelog
* Tue Mar 17 2013 Michael Dale Long <mlong@digitalbytes.net>
- initial spec file

